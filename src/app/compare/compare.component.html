<div class="row justify-content-between">
  <span class="col-auto">
    Actions:
    <button class="dataverse-button" (click)="refresh()" title="Refresh files status" [hidden]="refreshHidden">
      <i class="pi pi-refresh"></i> Refresh
    </button>
    <button class="dataverse-button" (click)="noActionSelection()" title="Do not copy or delete files in Dataverse" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_noaction"></fa-icon> No action
    </button>
    <button class="dataverse-button" (click)="updateSelection()" title="Copy all new and changed files to Dataverse" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_update"></fa-icon> Update
    </button>
    <button class="dataverse-button" (click)="mirrorSelection()" title="Copy all new and changed files to Dataverse and delete in Dataverse the files that do not exist in the repository" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_mirror"></fa-icon> Mirror
    </button>
  </span>

  <span class="col-auto">
    Filters:
    <button class="dataverse-button" (click)="filterNew()" title="Files that are only in the repository" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_new"></fa-icon>
    </button>
    <button class="dataverse-button" (click)="filterEqual()" title="Files that are equal" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_equal"></fa-icon>
    </button>
    <button class="dataverse-button" (click)="filterUpdated()" title="Files that have changed" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_updated"></fa-icon>
    </button>
    <button class="dataverse-button" (click)="filterDeleted()" title="Files that are only in Dataverse" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_deleted"></fa-icon>
    </button>
    <button class="dataverse-button" (click)="filterNone()" title="All files" [attr.disabled]="disabled ? '' : null">
      <fa-icon [icon]="icon_all"></fa-icon>
    </button>
  </span>
</div>

<br/>

<div height="100% - 2em">
  <p-treeTable [value]="rootNodeChildren" [loading]="loading">
    <ng-template pTemplate="header">
      <tr>
        <th class="repository_col">Repository</th>
        <!--th class="size_col">Size</th-->
        <th class="compare_col">
          <fa-icon [icon]="icon_compare"></fa-icon>
        </th>
        <th class="action_col">
          <fa-icon [icon]="icon_action"></fa-icon>
        </th>
        <th width="dataverse_col">Dataverse</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
      <tr app-datafile [hidden]="rowData.hidden" [datafile]="rowData" [loading]="loading" [rowNodeMap]="rowNodeMap" [rowNode]="rowNode" [style]="rowClass(rowData)">
    </ng-template>
  </p-treeTable>
</div>

<br/>

<span class="col-auto">
  <button class="dataverse-button align-left" (click)="submit()" title="Submit the selection for processing" [attr.disabled]="disabled ? '' : null">
    <fa-icon [icon]="icon_submit"></fa-icon> Submit
  </button>
</span>